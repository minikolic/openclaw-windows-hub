<?xml version="1.0" encoding="utf-8"?>
<winex:WindowEx
    x:Class="OpenClawTray.Windows.CanvasWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:winex="using:WinUIEx"
    Title="Canvas"
    Width="800" Height="600"
    MinWidth="300" MinHeight="200">

    <Window.SystemBackdrop>
        <MicaBackdrop/>
    </Window.SystemBackdrop>

    <Grid>
        <!-- Loading indicator -->
        <ProgressRing x:Name="LoadingRing" 
                      IsActive="True" 
                      HorizontalAlignment="Center" 
                      VerticalAlignment="Center"/>
        
        <!-- WebView2 for canvas content -->
        <WebView2 x:Name="CanvasWebView" 
                  Visibility="Collapsed"
                  DefaultBackgroundColor="Transparent"/>
        
        <!-- Error panel -->
        <StackPanel x:Name="ErrorPanel" 
                    Visibility="Collapsed"
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Center"
                    Spacing="16"
                    Padding="32">
            <TextBlock Text="âŒ Canvas Error" 
                       FontSize="18" 
                       FontWeight="SemiBold"
                       HorizontalAlignment="Center"/>
            <TextBlock x:Name="ErrorText" 
                       TextWrapping="Wrap" 
                       MaxWidth="400"
                       HorizontalAlignment="Center"
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
            <Button Content="Retry" 
                    HorizontalAlignment="Center"
                    Click="OnRetryClick"/>
        </StackPanel>
    </Grid>
</winex:WindowEx>
